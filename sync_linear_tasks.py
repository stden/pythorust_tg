#!/usr/bin/env python3
"""
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á –≤ Linear –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
–°–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á–∏ –∏–∑ –∞–Ω–∞–ª–∏–∑–æ–≤ —á–∞—Ç–æ–≤ –∏ –ø–ª–∞–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤.
"""

import os
import sys
from linear_client import LinearClient, LinearError
from dotenv import load_dotenv

load_dotenv()

TEAM_KEY = (os.getenv("LINEAR_TEAM_KEY") or "").strip()
if not TEAM_KEY:
    print("‚ùå LINEAR_TEAM_KEY –Ω–µ –∑–∞–¥–∞–Ω (–¥–æ–±–∞–≤—å—Ç–µ –≤ .env).")
    print("   –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞: https://linear.app/settings/api")
    sys.exit(1)


# –ó–∞–¥–∞—á–∏ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ—Å—Å–∏–∏ —Ä–∞–±–æ—Ç—ã
TASKS = {
    "completed": [
        # –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
        ("‚úÖ –ê–Ω–∞–ª–∏–∑ —á–∞—Ç–∞ –•–∞—Ä–∞",
         "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —á–∞—Ç –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –•–∞—Ä–∞ (369 —Å–æ–æ–±—â–µ–Ω–∏–π)\n\n"
         "–†–µ–∑—É–ª—å—Ç–∞—Ç: —Å–æ–∑–¥–∞–Ω –ø—Ä–æ–º–ø—Ç –¥–ª—è –¥–∏–∑–∞–π–Ω–∞ —Å–∞–π—Ç–∞\n"
         "–§–∞–π–ª: prompts/hara_website_design.md\n\n"
         "–í–∫–ª—é—á–∞–µ—Ç:\n"
         "- –¶–≤–µ—Ç–æ–≤—É—é –ø–∞–ª–∏—Ç—Ä—É (–∑–æ–ª–æ—Ç–æ–π, —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π, –∏–∑—É–º—Ä—É–¥–Ω—ã–π)\n"
         "- –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫—É (Playfair Display, Inter/Raleway)\n"
         "- –°—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ 6 —Å—Ç—Ä–∞–Ω–∏—Ü\n"
         "- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–≥–∞–¥–∞–Ω–∏–µ, –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏–∏)\n"
         "- 10 –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Å–µ–∫—Ü–∏–π", 4),

        ("‚úÖ –ê–Ω–∞–ª–∏–∑ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –≤–∞–π–±–∫–æ–¥–µ—Ä–æ–≤",
         "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —á–∞—Ç –≤–∞–π–±–∫–æ–¥–µ—Ä—ã (475 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ 2 –¥–Ω—è)\n\n"
         "–†–µ–∑—É–ª—å—Ç–∞—Ç: –≤—ã—è–≤–ª–µ–Ω–æ 12 –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π\n"
         "–§–∞–π–ª: analysis_results/vibecoders_needs_analysis.md\n\n"
         "–¢–æ–ø-3 –∏–¥–µ–∏ —Å –≤—ã—Å–æ–∫–∏–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º:\n"
         "1. Figma Pixel-Perfect Plugin ($15-50/–º–µ—Å)\n"
         "2. VoiceGPT Pro —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º ($20-40/–º–µ—Å)\n"
         "3. CharacterHub - open source character AI\n\n"
         "–ü—Ä–æ–≥–Ω–æ–∑: $1,750-13,500 MRR –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤", 4),

        ("‚úÖ –ü–ª–∞–Ω Figma Pixel Perfect Plugin",
         "–°–æ–∑–¥–∞–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞–≥–∏–Ω–∞ –ø–∏–∫—Å–µ–ª—å-–ø–µ—Ä—Ñ–µ–∫—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è\n\n"
         "–†–µ–∑—É–ª—å—Ç–∞—Ç: 8-–Ω–µ–¥–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏\n"
         "–§–∞–π–ª: codev/plans/figma-pixel-perfect-plugin.md\n\n"
         "–°–æ–¥–µ—Ä–∂–∏—Ç:\n"
         "- –¢–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (VS Code Extension + Backend)\n"
         "- 4 —Ñ–∞–∑—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (110-160 —á–∞—Å–æ–≤)\n"
         "- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –Ω–∞ TypeScript\n"
         "- –°—Ç—Ä–∞—Ç–µ–≥–∏—é –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ ($15 Pro, $50 Enterprise)\n"
         "- –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π –ø–ª–∞–Ω\n"
         "- –ü—Ä–æ–≥–Ω–æ–∑ –≤—ã—Ä—É—á–∫–∏: $1,750-13,500 MRR –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤", 4),
    ],

    "figma_plugin": [
        # Phase 1: MVP (Weeks 1-3)
        ("Figma Plugin: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å VS Code Extension skeleton",
         "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å VS Code extension –ø—Ä–æ–µ–∫—Ç\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å yo code –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä\n"
         "- –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è\n"
         "- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é\n"
         "- –°–æ–∑–¥–∞—Ç—å WebView UI –Ω–∞ React\n"
         "- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤ command palette\n\n"
         "–í—Ä–µ–º—è: 8-10 —á–∞—Å–æ–≤\n"
         "–†–µ—Ñ–µ—Ä–µ–Ω—Å: codev/plans/figma-pixel-perfect-plugin.md (—Å—Ç—Ä–æ–∫–∏ 160-189)", 1),

        ("Figma Plugin: Screenshot capture —á–µ—Ä–µ–∑ Puppeteer",
         "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å –∑–∞—Ö–≤–∞—Ç–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Puppeteer\n"
         "- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å captureScreenshot —Ñ—É–Ω–∫—Ü–∏—é\n"
         "- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É viewport —Ä–∞–∑–º–µ—Ä–æ–≤\n"
         "- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫\n"
         "- Unit-—Ç–µ—Å—Ç—ã\n\n"
         "–í—Ä–µ–º—è: 12-15 —á–∞—Å–æ–≤\n"
         "–ö–æ–¥: codev/plans/figma-pixel-perfect-plugin.md (—Å—Ç—Ä–æ–∫–∏ 191-215)", 1),

        ("Figma Plugin: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Figma API",
         "–ü–æ–¥–∫–ª—é—á–∏—Ç—å Figma REST API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–∞–∫–µ—Ç–æ–≤\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Figma API –∫–ª–∏–µ–Ω—Ç\n"
         "- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å fetchFigmaFrame —Ñ—É–Ω–∫—Ü–∏—é\n"
         "- –û–±—Ä–∞–±–æ—Ç–∫–∞ Personal Access Token\n"
         "- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n"
         "- Error handling\n\n"
         "–í—Ä–µ–º—è: 10-12 —á–∞—Å–æ–≤\n"
         "–ö–æ–¥: codev/plans/figma-pixel-perfect-plugin.md (—Å—Ç—Ä–æ–∫–∏ 217-239)", 2),

        ("Figma Plugin: Image comparison engine",
         "–°–æ–∑–¥–∞—Ç—å –¥–≤–∏–∂–æ–∫ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å pixelmatch\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É pixelmatch\n"
         "- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å compareImages —Ñ—É–Ω–∫—Ü–∏—é\n"
         "- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è diff –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n"
         "- –†–∞—Å—á—ë—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–∞ —Ä–∞–∑–ª–∏—á–∏–π\n"
         "- –¢–µ—Å—Ç—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö\n\n"
         "–í—Ä–µ–º—è: 15-18 —á–∞—Å–æ–≤\n"
         "–¢–æ—á–Ω–æ—Å—Ç—å: >95%\n"
         "–ö–æ–¥: codev/plans/figma-pixel-perfect-plugin.md (—Å—Ç—Ä–æ–∫–∏ 241-275)", 2),

        ("Figma Plugin: UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",
         "–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–∫–∞–∑–∞ diff —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è WebView\n"
         "- Overlay –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n"
         "- Slider –¥–ª—è overlay opacity\n"
         "- –°–ø–∏—Å–æ–∫ —Ä–∞–∑–ª–∏—á–∏–π —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏\n"
         "- –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤\n\n"
         "–í—Ä–µ–º—è: 15-20 —á–∞—Å–æ–≤\n"
         "UX —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ: –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏", 2),

        # Phase 2: AI CSS Fixes (Weeks 4-5)
        ("Figma Plugin: AI CSS —Ñ–∏–∫—Å—ã —á–µ—Ä–µ–∑ Claude API",
         "–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Claude API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ CSS –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Claude API –∫–ª–∏–µ–Ω—Ç\n"
         "- –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ CSS\n"
         "- –ü–∞—Ä—Å–∏–Ω–≥ HTML/CSS —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞\n"
         "- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ CSS\n"
         "- A/B —Ç–µ—Å—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ —Ñ–∏–∫—Å–æ–≤\n\n"
         "–í—Ä–µ–º—è: 20-25 —á–∞—Å–æ–≤\n"
         "–¶–µ–ª—å: >80% —Ç–æ—á–Ω–æ—Å—Ç—å —Ñ–∏–∫—Å–æ–≤\n"
         "–ö–æ–¥: codev/plans/figma-pixel-perfect-plugin.md (—Å—Ç—Ä–æ–∫–∏ 285-322)", 2),

        ("Figma Plugin: Auto-apply CSS –∏–∑–º–µ–Ω–µ–Ω–∏–π",
         "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ CSS —Ñ–∏–∫—Å–æ–≤ –∫ –∫–æ–¥—É\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- –ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—É—â–µ–≥–æ CSS —Ñ–∞–π–ª–∞\n"
         "- –ü–æ–∏—Å–∫ CSS —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –≤ –∫–æ–¥–µ\n"
         "- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ VS Code API\n"
         "- Preview –¥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è\n"
         "- –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (undo)\n\n"
         "–í—Ä–µ–º—è: 15-18 —á–∞—Å–æ–≤\n"
         "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", 2),

        # Phase 3: Backend & Auth (Weeks 5-6)
        ("Figma Plugin: Backend API (Node.js + Express)",
         "–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å backend —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Express/Fastify —Å–µ—Ä–≤–µ—Ä\n"
         "- API endpoints –¥–ª—è comparison\n"
         "- Rate limiting (10 req/day free, unlimited Pro)\n"
         "- Middleware –¥–ª—è auth\n"
         "- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è\n\n"
         "–í—Ä–µ–º—è: 12-15 —á–∞—Å–æ–≤\n"
         "Deployment: Vercel/Railway", 3),

        ("Figma Plugin: Supabase Auth + Stripe Billing",
         "–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ —Å–∏—Å—Ç–µ–º—É –ø–æ–¥–ø–∏—Å–æ–∫\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase –ø—Ä–æ–µ–∫—Ç\n"
         "- Auth flow –≤ VS Code extension\n"
         "- Stripe checkout –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è\n"
         "- Webhook –¥–ª—è subscription updates\n"
         "- Database schema –¥–ª—è users/subscriptions\n\n"
         "–í—Ä–µ–º—è: 18-22 —á–∞—Å–∞\n"
         "–ü–ª–∞–Ω—ã: Free (10/–º–µ—Å), Pro ($15), Enterprise ($50)", 3),

        # Phase 4: Testing & Launch (Weeks 7-8)
        ("Figma Plugin: End-to-End —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
         "–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ extension + backend\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- Unit —Ç–µ—Å—Ç—ã (Jest)\n"
         "- Integration —Ç–µ—Å—Ç—ã\n"
         "- E2E —Ç–µ—Å—Ç—ã —Å Playwright\n"
         "- Performance —Ç–µ—Å—Ç—ã\n"
         "- –ë–∞–≥-—Ñ–∏–∫—Å—ã\n\n"
         "–í—Ä–µ–º—è: 10-12 —á–∞—Å–æ–≤\n"
         "Coverage: >80%", 3),

        ("Figma Plugin: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ Marketing",
         "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏\n"
         "- Landing page\n"
         "- Demo –≤–∏–¥–µ–æ (YouTube)\n"
         "- Product Hunt –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞\n"
         "- Twitter/LinkedIn –∞–Ω–æ–Ω—Å\n\n"
         "–í—Ä–µ–º—è: 15-20 —á–∞—Å–æ–≤\n"
         "–¶–µ–ª—å: 1000 —É—Å—Ç–∞–Ω–æ–≤–æ–∫ –∑–∞ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü", 3),

        ("Figma Plugin: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ VS Code Marketplace",
         "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º –º–∞–≥–∞–∑–∏–Ω–µ\n\n"
         "–ó–∞–¥–∞—á–∏:\n"
         "- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Publisher –∞–∫–∫–∞—É–Ω—Ç–∞\n"
         "- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ package.json\n"
         "- –ò–∫–æ–Ω–∫–∏ –∏ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã\n"
         "- vsce publish\n"
         "- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–≤—ã—Ö –æ—Ç–∑—ã–≤–æ–≤\n\n"
         "–í—Ä–µ–º—è: 6-8 —á–∞—Å–æ–≤\n"
         "Launch date: —á–µ—Ä–µ–∑ 8 –Ω–µ–¥–µ–ª—å –æ—Ç —Å—Ç–∞—Ä—Ç–∞", 3),
    ],

    "hara_website": [
        ("–î–∏–∑–∞–π–Ω —Å–∞–π—Ç–∞ –•–∞—Ä–∞: –í—ã–±–æ—Ä –¥–∏–∑–∞–π–Ω–µ—Ä–∞/–∞–≥–µ–Ω—Ç—Å—Ç–≤–∞",
         "–ù–∞–π—Ç–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∏–∑–∞–π–Ω–∞\n\n"
         "–û–ø—Ü–∏–∏:\n"
         "1. Freelance –¥–∏–∑–∞–π–Ω–µ—Ä (Behance, Dribbble)\n"
         "2. –î–∏–∑–∞–π–Ω-—Å—Ç—É–¥–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∞—è—Å—è –Ω–∞ wellness\n"
         "3. AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Midjourney + –¥–æ—Ä–∞–±–æ—Ç–∫–∞\n"
         "4. –ö–æ–Ω–∫—É—Ä—Å –Ω–∞ 99designs\n\n"
         "–ë—é–¥–∂–µ—Ç: $1,500-5,000\n"
         "–†–µ—Ñ–µ—Ä–µ–Ω—Å—ã: Gaia.com, The Wild Unknown\n"
         "–ü—Ä–æ–º–ø—Ç: prompts/hara_website_design.md", 2),

        ("–î–∏–∑–∞–π–Ω —Å–∞–π—Ç–∞ –•–∞—Ä–∞: –ö–æ–ª–æ–¥–∞ –∫–∞—Ä—Ç –•–ê–†–ê –ø—Ä–æ–¥—É–∫—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞",
         "–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø—Ä–µ–¥–∑–∞–∫–∞–∑–∞ –∫–æ–ª–æ–¥—ã\n\n"
         "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:\n"
         "- –ì–∞–ª–µ—Ä–µ—è –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç\n"
         "- –û–ø–∏—Å–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∫–∞—Ä—Ç\n"
         "- –§–æ—Ä–º–∞ –ø—Ä–µ–¥–∑–∞–∫–∞–∑–∞\n"
         "- Countdown —Ç–∞–π–º–µ—Ä –¥–æ 10.12\n"
         "- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–ø–ª–∞—Ç—ã\n\n"
         "–î–µ–¥–ª–∞–π–Ω: –¥–æ 10.12 (–≤—ã–ø—É—Å–∫ –∫–æ–ª–æ–¥—ã)\n"
         "–¶–µ–Ω–∞ –∫–æ–ª–æ–¥—ã: TBD", 1),

        ("–î–∏–∑–∞–π–Ω —Å–∞–π—Ç–∞ –•–∞—Ä–∞: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Ä–µ—Ç—Ä–∏—Ç–æ–≤",
         "–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ–Ω–ª–∞–π–Ω-—Ä–µ—Ç—Ä–∏—Ç–æ–≤ –∏ —ç—Ñ–∏—Ä–æ–≤\n\n"
         "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:\n"
         "- –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π\n"
         "- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ä–µ—Ç—Ä–∏—Ç\n"
         "- Telegram-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π\n"
         "- –ü—Ä–æ—Ñ–∏–ª–∏ –≤–µ–¥—É—â–∏—Ö (–ò—Ä–∏–Ω–∞, –ò–Ω–Ω–∞, Anna)\n\n"
         "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: Google Calendar API / Calendly", 3),
    ],

    "voice_gpt_pro": [
        ("VoiceGPT Pro: Research –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤",
         "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö AI\n\n"
         "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã:\n"
         "- ChatGPT Voice Mode\n"
         "- Claude mobile voice\n"
         "- Perplexity Voice\n"
         "- Google Assistant with Gemini\n\n"
         "–ê–Ω–∞–ª–∏–∑:\n"
         "- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è\n"
         "- –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ\n"
         "- –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\n"
         "- Gap analysis\n\n"
         "–í—Ä–µ–º—è: 4-6 —á–∞—Å–æ–≤", 3),

        ("VoiceGPT Pro: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è",
         "–ù–∞–ø–∏—Å–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π tech spec –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ AI\n\n"
         "–°–µ–∫—Ü–∏–∏:\n"
         "- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (STT + LLM + TTS + Web Search)\n"
         "- –í—ã–±–æ—Ä –º–æ–¥–µ–ª–µ–π (Whisper, GPT-4o, ElevenLabs)\n"
         "- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ costs\n"
         "- Mobile app vs Web app\n"
         "- –°—Ç—Ä–∞—Ç–µ–≥–∏—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏\n\n"
         "–§–æ—Ä–º–∞—Ç: codev/specs/voice-gpt-pro.md\n"
         "–í—Ä–µ–º—è: 8-10 —á–∞—Å–æ–≤", 3),
    ],

    "character_hub": [
        ("CharacterHub: –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ Character.AI",
         "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ä—ã–Ω–æ–∫ character AI –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏\n\n"
         "–ê–Ω–∞–ª–∏–∑:\n"
         "- Character.AI business model\n"
         "- –†–∞–∑–º–µ—Ä —Ä—ã–Ω–∫–∞ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã\n"
         "- Open source –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã\n"
         "- Grok Aurora —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª\n"
         "- –ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –¥–µ—Å–∫—Ç–æ–ø-–≤–µ—Ä—Å–∏–∏ –¥–ª—è —Å—Ç—Ä–∏–º–µ—Ä–æ–≤\n\n"
         "–í—ã–≤–æ–¥ –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ –≤–∞–π–±–∫–æ–¥–µ—Ä–æ–≤:\n"
         "> '–ú–Ω–µ –∫–∞–∫ –∏–¥–µ—è –æ—á–µ–Ω—å –∑–∞—à–ª–æ! –ù–æ –Ω–µ –≥–æ—Ç–æ–≤ —Ä–∞–¥–∏ —ç—Ç–æ–≥–æ –æ–ø–ª–∞—á–∏–≤–∞—Ç—å –ì—Ä–æ–∫)'\n\n"
         "–í—Ä–µ–º—è: 6-8 —á–∞—Å–æ–≤", 4),
    ],
}


def create_tasks_in_linear(client: LinearClient, dry_run: bool = False):
    """–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á–∏ –≤ Linear."""
    created = 0
    errors = 0
    skipped = 0

    print("=" * 60)
    print("üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á —Å Linear")
    print("=" * 60)
    print(f"Team: {TEAM_KEY}")
    print(f"Dry run: {dry_run}")
    print()

    for category, tasks in TASKS.items():
        print(f"\nüìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: {category}")
        print("-" * 60)

        for title, description, priority in tasks:
            # –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
            if category == "completed":
                print(f"  ‚è≠Ô∏è  {title} (–∞—Ä—Ö–∏–≤–Ω–∞—è)")
                skipped += 1
                continue

            if dry_run:
                print(f"  üîç [DRY RUN] {title}")
                print(f"     Priority: {priority}")
                print(f"     Description preview: {description[:100]}...")
                continue

            try:
                issue = client.create_issue(
                    team_key=TEAM_KEY,
                    title=title,
                    description=f"{description}\n\n---\n–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {category}\n–°–æ–∑–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ sync_linear_tasks.py",
                    priority=priority,
                )
                print(f"  ‚úÖ {issue['identifier']}: {title}")
                print(f"     URL: {issue['url']}")
                created += 1
            except LinearError as e:
                print(f"  ‚ùå {title}")
                print(f"     –û—à–∏–±–∫–∞: {e}")
                errors += 1

    print(f"\n{'='*60}")
    print("üìä –†–µ–∑—É–ª—å—Ç–∞—Ç:")
    print(f"   ‚úÖ –°–æ–∑–¥–∞–Ω–æ: {created} –∑–∞–¥–∞—á")
    print(f"   ‚ùå –û—à–∏–±–æ–∫: {errors}")
    print(f"   ‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω–æ: {skipped} (–∞—Ä—Ö–∏–≤–Ω—ã–µ)")
    print("=" * 60)

    return created, errors, skipped


def main():
    import argparse

    parser = argparse.ArgumentParser(description="–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á –≤ Linear")
    parser.add_argument(
        "--dry-run",
        action="store_true",
        help="–ü–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –±–µ–∑ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á"
    )
    parser.add_argument(
        "--category",
        type=str,
        help="–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á–∏ —Ç–æ–ª—å–∫–æ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"
    )

    args = parser.parse_args()

    # –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ
    tasks_to_process = TASKS
    if args.category:
        if args.category not in TASKS:
            print(f"‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: {args.category}")
            print(f"   –î–æ—Å—Ç—É–ø–Ω—ã–µ: {', '.join(TASKS.keys())}")
            sys.exit(1)

        tasks_to_process = {args.category: TASKS[args.category]}

    try:
        client = LinearClient()
    except LinearError as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Linear: {e}")
        print("\n–î–æ–±–∞–≤—å—Ç–µ LINEAR_API_KEY –≤ .env —Ñ–∞–π–ª:")
        print("1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://linear.app/settings/api")
        print("2. –°–æ–∑–¥–∞–π—Ç–µ Personal API Key")
        print("3. –î–æ–±–∞–≤—å—Ç–µ –≤ .env: LINEAR_API_KEY=lin_api_xxx")
        sys.exit(1)

    # –í—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–µ–º TASKS –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    original_tasks = TASKS
    if args.category:
        TASKS.clear()
        TASKS.update(tasks_to_process)

    created, errors, skipped = create_tasks_in_linear(client, dry_run=args.dry_run)

    # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏
    TASKS.clear()
    TASKS.update(original_tasks)

    if args.dry_run:
        print("\nüí° –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–µ–∑ --dry-run –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á –≤ Linear")

    sys.exit(0 if errors == 0 else 1)


if __name__ == "__main__":
    main()
